[gd_scene load_steps=17 format=3 uid="uid://b8ok1m3wh7160"]

[ext_resource type="Script" path="res://castleControl.gd" id="1_trork"]
[ext_resource type="Texture2D" uid="uid://ska2m77n50xm" path="res://inside.png" id="1_vpivo"]
[ext_resource type="PackedScene" uid="uid://3kidvivnys7h" path="res://player.tscn" id="2_0q1u8"]
[ext_resource type="Script" path="res://dialogue_trigger.gd" id="3_mh8vi"]
[ext_resource type="Theme" uid="uid://babdwm0flbrd6" path="res://ScoreSize.tres" id="4_l3i78"]
[ext_resource type="AudioStream" uid="uid://b0k8k1u6sj5kb" path="res://test.mp3" id="4_pxlrv"]
[ext_resource type="Script" path="res://outsideCastle.gd" id="7_3c42b"]
[ext_resource type="Script" path="res://quiz.gd" id="8_ir48a"]
[ext_resource type="AudioStream" uid="uid://bcbqw21j26gbe" path="res://quiz.mp3" id="9_4y2la"]
[ext_resource type="Script" path="res://quiz_ui.gd" id="10_8cmon"]
[ext_resource type="Theme" uid="uid://dvcwjkyhd571w" path="res://fontsize.tres" id="11_yd52u"]

[sub_resource type="CircleShape2D" id="CircleShape2D_d7le1"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yw4j8"]
size = Vector2(12.5, 10.9)

[sub_resource type="CircleShape2D" id="CircleShape2D_rm0uy"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_si43u"]
bg_color = Color(0.698039, 0.698039, 0.701961, 1)

[sub_resource type="Theme" id="Theme_xekde"]
default_font_size = 35

[node name="Node" type="Node"]
script = ExtResource("1_trork")

[node name="TextureRect" type="TextureRect" parent="."]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("1_vpivo")

[node name="CharacterBody2D" parent="." instance=ExtResource("2_0q1u8")]
position = Vector2(882, 687)

[node name="LabelAnchor" type="Node2D" parent="CharacterBody2D"]

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="CharacterBody2D/LabelAnchor"]
remote_path = NodePath("../../../World UI/UI position")
update_rotation = false
update_scale = false

[node name="DialogueTrigger" type="Area2D" parent="."]
scale = Vector2(5, 5)
script = ExtResource("3_mh8vi")
audio_stream = ExtResource("4_pxlrv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DialogueTrigger"]
position = Vector2(97.6, 122.8)
shape = SubResource("CircleShape2D_d7le1")

[node name="DialogueTrigger2" type="Area2D" parent="."]
scale = Vector2(5, 5)
script = ExtResource("3_mh8vi")
audio_stream = ExtResource("4_pxlrv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DialogueTrigger2"]
position = Vector2(89.8, 66.2)
shape = SubResource("RectangleShape2D_yw4j8")

[node name="Button" type="Button" parent="."]
offset_left = 943.0
offset_top = 685.0
offset_right = 1093.0
offset_bottom = 716.0
toggle_mode = true
text = "Outside the Castle"
script = ExtResource("7_3c42b")

[node name="Quiz" type="Area2D" parent="."]
scale = Vector2(5, 5)
script = ExtResource("8_ir48a")
audio_stream = ExtResource("9_4y2la")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Quiz"]
position = Vector2(262.8, 62)
shape = SubResource("CircleShape2D_rm0uy")

[node name="QuizUI" type="Control" parent="."]
process_mode = 3
layout_mode = 3
anchor_left = 0.684
anchor_top = 0.287
anchor_right = 0.684
anchor_bottom = 0.287
offset_left = -9.28003
offset_top = -9.95999
offset_right = 9.71997
offset_bottom = 10.04
script = ExtResource("10_8cmon")

[node name="Panel" type="Panel" parent="QuizUI"]
layout_mode = 0
offset_left = -623.0
offset_top = -400.0
offset_right = 577.0
offset_bottom = 400.0
theme_override_styles/panel = SubResource("StyleBoxFlat_si43u")

[node name="Label" type="Label" parent="QuizUI/Panel"]
layout_mode = 0
offset_left = 51.0
offset_top = 102.0
offset_right = 1143.0
offset_bottom = 359.0
theme = ExtResource("11_yd52u")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Button" type="Button" parent="QuizUI/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.015
anchor_bottom = 0.029
offset_left = 51.0
offset_top = 411.0
offset_right = 507.0
offset_bottom = 533.8
theme = ExtResource("11_yd52u")

[node name="Button2" type="Button" parent="QuizUI/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.015
anchor_bottom = 0.029
offset_left = 679.0
offset_top = 411.0
offset_right = 1135.0
offset_bottom = 533.8
theme = ExtResource("11_yd52u")

[node name="Button3" type="Button" parent="QuizUI/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.015
anchor_bottom = 0.029
offset_left = 52.0
offset_top = 596.0
offset_right = 508.0
offset_bottom = 718.8
theme = ExtResource("11_yd52u")

[node name="Button4" type="Button" parent="QuizUI/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.015
anchor_bottom = 0.029
offset_left = 678.0
offset_top = 594.0
offset_right = 1134.0
offset_bottom = 716.8
theme = ExtResource("11_yd52u")

[node name="TimerLabel" type="Label" parent="QuizUI/Panel"]
layout_mode = 0
offset_left = 1062.0
offset_top = 14.0
offset_right = 1179.0
offset_bottom = 97.0
theme = ExtResource("11_yd52u")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Timer" type="Timer" parent="QuizUI"]
process_mode = 3
wait_time = 60.0

[node name="World UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 3633.0
offset_top = 2132.0
offset_right = 3749.0
offset_bottom = 2172.0

[node name="UI position" type="Node2D" parent="World UI"]
position = Vector2(-2751, -1445)

[node name="Score" type="Label" parent="World UI/UI position" groups=["ScoreBox"]]
offset_left = 767.0
offset_top = -528.0
offset_right = 945.0
offset_bottom = -482.0
theme = ExtResource("4_l3i78")
theme_override_colors/font_color = Color(0, 0, 0, 1)
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Label" type="Label" parent="World UI/UI position" groups=["DialogueBox"]]
offset_left = -907.0
offset_top = 440.0
offset_right = 914.0
offset_bottom = 500.0
theme = SubResource("Theme_xekde")
theme_override_colors/font_color = Color(0, 0, 0, 1)
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2
metadata/_edit_use_anchors_ = true

[connection signal="body_entered" from="DialogueTrigger" to="DialogueTrigger" method="_on_body_entered"]
[connection signal="body_entered" from="DialogueTrigger2" to="DialogueTrigger2" method="_on_body_entered"]
[connection signal="pressed" from="Button" to="Button" method="_on_pressed"]
[connection signal="body_entered" from="Quiz" to="Quiz" method="_on_body_entered"]
[connection signal="timeout" from="QuizUI/Timer" to="QuizUI" method="_on_timer_timeout"]
